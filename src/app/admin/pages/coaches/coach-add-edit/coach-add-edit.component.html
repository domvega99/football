<div class="wrapper">
    <div class="container">
        <div class="header">
            <button mat-fab extended color="primary" [routerLink]="'/admin/coaches'">
                <mat-icon>keyboard_arrow_left</mat-icon>
                Back
            </button>
            <h1>Coach Details</h1>
        </div>
        <form [formGroup]="coachForm" (ngSubmit)="onSubmit()">
            <mat-label>Picture</mat-label>
            <div class="logo">
                <img *ngIf="imagePath" [src]="imagePath" alt="Uploaded Image" width="220px" />
                <input type="file" (change)="onFileSelected($event)" />
            </div>
            <div class="field-container">
                <mat-form-field appearance="outline" class="field">
                    <mat-label>First Name</mat-label>
                    <input matInput placeholder="First Name" formControlName="firstName">
                    <mat-error *ngIf="coachForm.get('firstName')?.hasError('required') && coachForm.get('firstName')?.touched">
                        First name is required
                    </mat-error>
                    <mat-error *ngIf="coachForm.get('firstName')?.hasError('minlength') && coachForm.get('firstName')?.touched">
                        First name must be at least 3 characters long
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Middle Name</mat-label>
                    <input matInput placeholder="Middle Name" formControlName="middleName">
                    <mat-error *ngIf="coachForm.get('middleName')?.hasError('minlength') && coachForm.get('middleName')?.touched">
                        Middle name must be at least 3 characters long
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Last Name</mat-label>
                    <input matInput placeholder="Last Name" formControlName="lastName">
                    <mat-error *ngIf="coachForm.get('lastName')?.hasError('required') && coachForm.get('lastName')?.touched">
                        Last name is required
                    </mat-error>
                    <mat-error *ngIf="coachForm.get('lastName')?.hasError('minlength') && coachForm.get('lastName')?.touched">
                        Last name must be at least 3 characters long
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Role</mat-label>
                    <mat-select formControlName="role">
                        <mat-option [value]="'Head'">Head</mat-option>
                        <mat-option [value]="'Assistant'">Assistant</mat-option>
                    </mat-select>
                    <mat-error *ngIf="coachForm.get('role')?.hasError('required') && coachForm.get('role')?.touched">
                        Role is required
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Birth Date</mat-label>
                    <input matInput [matDatepicker]="picker" placeholder="Birth Date" formControlName="birthDate">
                    <mat-hint>MM/DD/YYYY</mat-hint>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Birth Place</mat-label>
                    <input matInput placeholder="Birth Place" formControlName="birthPlace">
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Address</mat-label>
                    <input matInput placeholder="Address" formControlName="address">
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>ZIP Code</mat-label>
                    <input matInput placeholder="ZIP Code" formControlName="zipCode">
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Phone</mat-label>
                    <input matInput placeholder="Phone" formControlName="phone">
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Email</mat-label>
                    <input matInput placeholder="Email" formControlName="email">
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Club</mat-label>
                    <mat-select formControlName="clubId">
                        <mat-option *ngFor="let club of clubData" [value]="club.id">
                            <div class="club-container">
                                <img *ngIf="club.fileName" [src]="clubImage + club.fileName" alt={{club.fileName}} width="30px">
                                {{ club.name }}
                            </div>
                        </mat-option>
                        <mat-error *ngIf="coachForm.get('clubId')?.hasError('required') && coachForm.get('clubId')?.touched">
                            Club is required
                        </mat-error>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Team</mat-label>
                    <mat-select formControlName="teamId">
                        <mat-option [value]="0">None</mat-option>
                        <mat-option *ngFor="let team of teamData" [value]="team.id">
                            <div class="club-container">
                                {{ team.team }}
                            </div>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="field">
                    <mat-label>Status</mat-label>
                    <mat-select formControlName="stat">
                        <mat-option [value]="1">Active</mat-option>
                        <mat-option [value]="0">Inactive</mat-option>
                    </mat-select>
                    <mat-error *ngIf="coachForm.get('stat')?.hasError('required') && coachForm.get('stat')?.touched">
                        Player status is required
                    </mat-error>
                </mat-form-field>
            </div>
            <button mat-raised-button color="primary" type="submit">{{ coachId ? 'Update' : 'Save' }}</button>
        </form>
    </div>
</div>